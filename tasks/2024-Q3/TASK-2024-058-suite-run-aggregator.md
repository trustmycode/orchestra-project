---
id: TASK-2024-058
title: "Задача 4.6.2 (Backend): Агрегатор статусов и оркестратор SuiteRun"
status: done
priority: high
type: task
estimate: 8h
created: 2024-07-30
updated: 2024-07-30
parents: [TASK-2024-056]
dependencies: [TASK-2024-057]
arch_refs: [ADR-0022]
---
## Описание
Реализовать `SuiteRun Orchestrator` (в рамках `SchedulerService`), который управляет жизненным циклом `SuiteRun` с учетом зависимостей.

## Ключевые шаги
1. Расширить `SchedulerService` для обработки `SuiteRun`.
2. Реализовать логику анализа графа зависимостей `TestScenario.dependsOn`.
3. Реализовать механизм, который по мере завершения `TestRun`'ов разблокирует и отправляет в очередь зависимые от них `TestRun`.
4. Реализовать логику агрегации: когда все дочерние `TestRun` завершены, вычислить и установить финальный статус для `SuiteRun`.

## Критерии приемки
- Оркестратор корректно соблюдает порядок выполнения зависимых сценариев.
- После завершения всех `TestRun` статус родительского `SuiteRun` обновляется на `PASSED` или `FAILED`.
