---
id: TASK-2024-131
title: "Задача 4.10.9 (Backend): Асинхронный API для генерации данных (Jobs)"
status: todo
priority: high
type: feature
estimate: 6h
created: 2025-11-21
parents: [TASK-2024-037]
dependencies: [TASK-2024-137]
---

## Описание
Генерация данных для Suite может занимать длительное время. Необходимо перевести этот процесс в фоновый режим.

## Ключевые шаги

1.  **Сущность `AiJob`:**
    *   Создать простую in-memory (или в БД) структуру для трекинга: `id`, `status` (QUEUED, PROCESSING, COMPLETED, FAILED), `result` (JSON), `progress` (int %).

2.  **API Эндпоинты:**
    *   `POST /api/v1/ai/jobs/generate` -> Возвращает `{ "jobId": "..." }` и сразу завершает запрос (HTTP 202).
    *   `GET /api/v1/ai/jobs/{jobId}` -> Возвращает текущий статус и результат (если готов).

3.  **Async Execution:**
    *   Использовать `@Async` в Spring для запуска логики из TASK-2024-132.
    *   В процессе итерации по сценариям обновлять поле `progress` в Job (например, 5 сценариев из 10 готово = 50%).

## Критерии приемки
- [ ] POST запрос возвращает ID задачи мгновенно.
- [ ] GET запрос возвращает статус `PROCESSING` и прогресс.
- [ ] По завершении GET запрос возвращает полный JSON с данными.