---
id: TASK-2024-098
title: "Задача 4.10.1.5 (Backend): Реализация базового набора инструментов (Agent Toolbox)"
status: backlog
priority: high
type: task
estimate: 8h
created: 2024-07-30
updated: 2024-07-30
parents: [TASK-2024-072]
dependencies: [TASK-2024-097, TASK-2024-073]
arch_refs: [ADR-0025]
---
## Описание
Создать набор Java-классов и методов, которые будут доступны агенту как "инструменты": операции с `Data Resolver`, получение схем API, метаданных сценариев и аналитика отчетов. Эти инструменты будут использоваться всеми AI-функциями `ai-service`.

## Ключевые шаги
1. Создать сервис `AgentToolbox`, который регистрирует методы с аннотациями `@Tool` и `@ToolDescription`.
2. Экспортировать методы `DataResolverService` как инструменты (поиск клиентов, продуктов, заказов и т.п.).
3. Добавить вспомогательные инструменты: получение JSON Schema по `operationId`, чтение метаданных шагов, парсинг `TestRunReport` для поиска проблем.
4. Подключить `AgentToolbox` к `SgrAgent`, убедившись, что агенты могут динамически вызывать инструменты.

## Критерии приемки
- Зарегистрированы и задокументированы базовые инструменты, доступные агенту.
- Агент успешно вызывает хотя бы один инструмент для получения реальных данных (`Data Resolver`) и использует результат в ответе.
