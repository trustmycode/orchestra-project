---
id: TASK-2024-078
title: "Задача 4.4.7 (Backend): Генерация конкурентных тестов для Parallel Gateway"
status: backlog
priority: low
type: feature
estimate: 12h
created: 2024-07-30
updated: 2024-07-30
parents: [TASK-2024-031]
dependencies: [TASK-2024-044]
arch_refs: [ADR-0021]
audit_log:
  - {date: 2024-07-30, user: "@RoboticArchitect", action: "created with status backlog"}
---
## Описание
Расширить `ProcessToScenarioGenerator`, чтобы он анализировал параллельные ветки процессов и создавал дополнительные сценарии для выявления гонок по общим ресурсам (см. `ADR-0021`).

## Ключевые шаги
1. Добавить расчёт "ресурсного отпечатка" шага (какие сущности/таблицы он изменяет) на основе метаданных или AI-анализа.
2. При обработке `Parallel Gateway` сравнивать отпечатки веток и выявлять пересечения.
3. Для конфликтующих веток генерировать ограниченный набор дополнительных `TestScenario` с перестановкой порядка выполнения (например, `A→B` и `B→A`).

## Критерии приемки
- Для процесса с параллельными ветками, модифицирующими одни и те же сущности, появляется несколько сценариев с разным порядком действий.
- Для веток без конфликта дополнительная генерация не производится.
